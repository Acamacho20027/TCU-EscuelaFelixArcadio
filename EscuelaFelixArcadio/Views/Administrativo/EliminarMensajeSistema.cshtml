@model EscuelaFelixArcadio.Models.MensajeSistema

@{
    ViewBag.Title = "Eliminar Mensaje";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@section Styles {
    <link href="~/Content/prestamos.css" rel="stylesheet" />
}

<div class="prestamos-container">
    <div class="prestamos-delete-container">
        <div style="text-align: center; margin-bottom: 2rem;">
            <i class="fas fa-exclamation-triangle" style="font-size: 4rem; color: #dc2626; margin-bottom: 1rem;"></i>
            <h2 class="prestamos-delete-title">¿Eliminar Mensaje?</h2>
            <p class="prestamos-delete-message">
                Esta accion es permanente y no se puede deshacer. ¿Esta seguro de que desea eliminar este mensaje del sistema?
            </p>
        </div>

        <div class="prestamos-delete-info">
            <h3 class="prestamos-delete-info-title">
                <i class="fas fa-info-circle"></i> Informacion del Mensaje a Eliminar
            </h3>
            <div class="prestamos-delete-info-details">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                    <div>
                        <strong>ID:</strong> @Model.Id
                    </div>
                    <div>
                        <strong>Título:</strong> @Model.Titulo
                    </div>
                    <div>
                        <strong>Tipo:</strong> 
                        @switch (Model.Tipo)
                        {
                            case "Info":
                                <span style="color: #3b82f6;">Info</span>
                                break;
                            case "Advertencia":
                                <span style="color: #f59e0b;">Advertencia</span>
                                break;
                            case "Error":
                                <span style="color: #ef4444;">Error</span>
                                break;
                            case "Exito":
                                <span style="color: #10b981;">Éxito</span>
                                break;
                            default:
                                @Model.Tipo
                                break;
                        }
                    </div>
                    <div>
                        <strong>Estado:</strong> @(Model.Activo ? "Activo" : "Inactivo")
                    </div>
                    <div>
                        <strong>Fecha Inicio:</strong> @Model.FechaInicio.ToString("dd/MM/yyyy")
                    </div>
                    <div>
                        <strong>Fecha Fin:</strong> @(Model.FechaFin?.ToString("dd/MM/yyyy") ?? "Indefinido")
                    </div>
                    <div>
                        <strong>Rol Destino:</strong> @(Model.RolDestino ?? "Todos los roles")
                    </div>
                </div>
            </div>
        </div>

        @using (Html.BeginForm("EliminarMensajeSistema", "Administrativo", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)
            
            <div class="prestamos-form-buttons">
                <button type="submit" class="btn-prestamos-delete-confirm">
                    <i class="fas fa-trash"></i>
                    Eliminar Definitivamente
                </button>
                @Html.ActionLink("Regresar a la Lista", "ListarMensajesSistema", "Administrativo", null, new { @class = "btn-prestamos-cancel" })
            </div>
        }
    </div>
</div>
